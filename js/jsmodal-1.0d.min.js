var Modal=function(){"use strict";var e,t,n={},o={},i=document.createElement("div"),l=document.createElement("div"),d=document.createElement("div"),c=document.createElement("div"),a=document.createElement("div"),s={width:"auto",height:"auto",lock:!1,hideClose:!1,draggable:!1,closeAfter:0,openCallback:!1,beforeCloseCallback:!1,closeCallback:!1,hideOverlay:!1};return n.open=function(r){o.width=r.width||s.width,o.height=r.height||s.height,o.lock=r.lock||s.lock,o.hideClose=r.hideClose||s.hideClose,o.draggable=r.draggable||s.draggable,o.closeAfter=r.closeAfter||s.closeAfter,o.beforeCloseCallback=r.beforeCloseCallback||s.beforeCloseCallback,o.closeCallback=r.closeCallback||s.closeCallback,o.openCallback=r.openCallback||s.openCallback,o.hideOverlay=r.hideOverlay||s.hideOverlay,e=function(){n.center({})},r.content&&!r.ajaxContent?c.innerHTML=r.content:r.ajaxContent&&!r.content?(l.className="modal-loading",n.ajax(r.ajaxContent,function(e){c.innerHTML=e})):c.innerHTML="",l.style.width=o.width,l.style.height=o.height,n.center({}),(o.lock||o.hideClose)&&(a.style.visibility="hidden"),o.hideOverlay||(i.style.visibility="visible"),l.style.visibility="visible",document.onkeypress=function(e){27===e.keyCode&&o.lock!==!0&&n.close()},a.onclick=function(){return o.hideClose?!1:void n.close()},i.onclick=function(){return o.lock?!1:void n.close()},window.addEventListener?window.addEventListener("resize",e,!1):window.attachEvent&&window.attachEvent("onresize",e),o.draggable?(d.style.cursor="move",d.onmousedown=function(e){return n.drag(e),!1}):d.onmousedown=function(){return!1},o.closeAfter>0&&(t=window.setTimeout(function(){n.close()},1e3*o.closeAfter)),o.openCallback&&o.openCallback()},n.drag=function(e){var t=void 0!==window.event?window.event.clientX:e.clientX,n=void 0!==window.event?window.event.clientY:e.clientY,o=t-l.offsetLeft,i=n-l.offsetTop;document.onmousemove=function(e){t=void 0!==window.event?window.event.clientX:e.clientX,n=void 0!==window.event?window.event.clientY:e.clientY,l.style.left=t-o>0?t-o+"px":0,l.style.top=n-i>0?n-i+"px":0,document.onmouseup=function(){window.document.onmousemove=null}}},n.ajax=function(e,t){var n,o=!1,i=[function(){return new window.XMLHttpRequest},function(){return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")},function(){return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new window.ActiveXObject("Msxml2.XMLHTTP")}];for(n=0;n<i.length;n+=1){try{o=i[n]()}catch(d){}if(o!==!1)break}o.open("GET",e,!0),o.onreadystatechange=function(){4===o.readyState&&(200===o.status?(t(o.responseText),l.removeAttribute("class")):(t(o.responseText),l.removeAttribute("class")))},o.send(null)},n.close=function(){o.beforeCloseCallback&&o.beforeCloseCallback(),c.innerHTML="",i.setAttribute("style",""),i.style.cssText="",i.style.visibility="hidden",l.setAttribute("style",""),l.style.cssText="",l.style.visibility="hidden",d.style.cursor="default",a.setAttribute("style",""),a.style.cssText="",t&&window.clearTimeout(t),o.closeCallback&&o.closeCallback(),window.removeEventListener?window.removeEventListener("resize",e,!1):window.detachEvent&&window.detachEvent("onresize",e)},n.center=function(e){var t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),n=Math.max(l.clientWidth,l.offsetWidth),o=Math.max(l.clientHeight,l.offsetHeight),d=0,c=0,a=0,s=0;"number"==typeof window.innerWidth?(d=window.innerWidth,c=window.innerHeight):document.documentElement&&document.documentElement.clientWidth&&(d=document.documentElement.clientWidth,c=document.documentElement.clientHeight),"number"==typeof window.pageYOffset?(s=window.pageYOffset,a=window.pageXOffset):document.body&&document.body.scrollLeft?(s=document.body.scrollTop,a=document.body.scrollLeft):document.documentElement&&document.documentElement.scrollLeft&&(s=document.documentElement.scrollTop,a=document.documentElement.scrollLeft),e.horizontalOnly||(l.style.top=s+c/2-o/2+"px"),l.style.left=a+d/2-n/2+"px",i.style.height=t+"px",i.style.width="100%"},i.setAttribute("id","modal-overlay"),l.setAttribute("id","modal-container"),d.setAttribute("id","modal-header"),c.setAttribute("id","modal-content"),a.setAttribute("id","modal-close"),d.appendChild(a),l.appendChild(d),l.appendChild(c),i.style.visibility="hidden",l.style.visibility="hidden",window.addEventListener?window.addEventListener("load",function(){document.body.appendChild(i),document.body.appendChild(l)},!1):window.attachEvent&&window.attachEvent("onload",function(){document.body.appendChild(i),document.body.appendChild(l)}),n}();
